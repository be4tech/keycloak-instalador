{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect, useState } from \"react\";\nexport default function SamlPostForm(props) {\n  const {\n    kcContext,\n    i18n,\n    doUseDefaultCss,\n    Template,\n    classes\n  } = props;\n  const {\n    msgStr,\n    msg\n  } = i18n;\n  const {\n    samlPost\n  } = kcContext;\n  const [htmlFormElement, setHtmlFormElement] = useState(null);\n  useEffect(() => {\n    if (htmlFormElement === null) {\n      return;\n    }\n    // Storybook\n    if (samlPost.url === \"\") {\n      alert(\"In a real Keycloak the user would be redirected immediately\");\n      return;\n    }\n    htmlFormElement.submit();\n  }, [htmlFormElement]);\n  return _jsxs(Template, Object.assign({}, {\n    kcContext,\n    i18n,\n    doUseDefaultCss,\n    classes\n  }, {\n    displayMessage: false,\n    headerNode: msg(\"saml.post-form.title\")\n  }, {\n    children: [_jsx(\"p\", {\n      children: msg(\"saml.post-form.message\")\n    }), _jsxs(\"form\", Object.assign({\n      name: \"saml-post-binding\",\n      method: \"post\",\n      action: samlPost.url,\n      ref: setHtmlFormElement\n    }, {\n      children: [samlPost.SAMLRequest && _jsx(\"input\", {\n        type: \"hidden\",\n        name: \"SAMLRequest\",\n        value: samlPost.SAMLRequest\n      }), samlPost.SAMLResponse && _jsx(\"input\", {\n        type: \"hidden\",\n        name: \"SAMLResponse\",\n        value: samlPost.SAMLResponse\n      }), samlPost.relayState && _jsx(\"input\", {\n        type: \"hidden\",\n        name: \"RelayState\",\n        value: samlPost.relayState\n      }), _jsxs(\"noscript\", {\n        children: [_jsx(\"p\", {\n          children: msg(\"saml.post-form.js-disabled\")\n        }), _jsx(\"input\", {\n          type: \"submit\",\n          value: msgStr(\"doContinue\")\n        })]\n      })]\n    }))]\n  }));\n}","map":{"version":3,"names":["useEffect","useState","SamlPostForm","props","kcContext","i18n","doUseDefaultCss","Template","classes","msgStr","msg","samlPost","htmlFormElement","setHtmlFormElement","url","alert","submit","_jsxs","Object","assign","displayMessage","headerNode","children","_jsx","name","method","action","ref","SAMLRequest","type","value","SAMLResponse","relayState"],"sources":["/Users/user/NewoDev/keycloakify-starter/node_modules/keycloakify/src/login/pages/SamlPostForm.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport type { PageProps } from \"keycloakify/login/pages/PageProps\";\nimport type { KcContext } from \"../kcContext\";\nimport type { I18n } from \"../i18n\";\n\nexport default function SamlPostForm(props: PageProps<Extract<KcContext, { pageId: \"saml-post-form.ftl\" }>, I18n>) {\n    const { kcContext, i18n, doUseDefaultCss, Template, classes } = props;\n\n    const { msgStr, msg } = i18n;\n\n    const { samlPost } = kcContext;\n\n    const [htmlFormElement, setHtmlFormElement] = useState<HTMLFormElement | null>(null);\n\n    useEffect(() => {\n        if (htmlFormElement === null) {\n            return;\n        }\n\n        // Storybook\n        if (samlPost.url === \"\") {\n            alert(\"In a real Keycloak the user would be redirected immediately\");\n            return;\n        }\n\n        htmlFormElement.submit();\n    }, [htmlFormElement]);\n    return (\n        <Template {...{ kcContext, i18n, doUseDefaultCss, classes }} displayMessage={false} headerNode={msg(\"saml.post-form.title\")}>\n            <p>{msg(\"saml.post-form.message\")}</p>\n            <form name=\"saml-post-binding\" method=\"post\" action={samlPost.url} ref={setHtmlFormElement}>\n                {samlPost.SAMLRequest && <input type=\"hidden\" name=\"SAMLRequest\" value={samlPost.SAMLRequest} />}\n                {samlPost.SAMLResponse && <input type=\"hidden\" name=\"SAMLResponse\" value={samlPost.SAMLResponse} />}\n                {samlPost.relayState && <input type=\"hidden\" name=\"RelayState\" value={samlPost.relayState} />}\n                <noscript>\n                    <p>{msg(\"saml.post-form.js-disabled\")}</p>\n                    <input type=\"submit\" value={msgStr(\"doContinue\")} />\n                </noscript>\n            </form>\n        </Template>\n    );\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAK3C,eAAc,SAAUC,YAAYA,CAACC,KAA4E;EAC7G,MAAM;IAAEC,SAAS;IAAEC,IAAI;IAAEC,eAAe;IAAEC,QAAQ;IAAEC;EAAO,CAAE,GAAGL,KAAK;EAErE,MAAM;IAAEM,MAAM;IAAEC;EAAG,CAAE,GAAGL,IAAI;EAE5B,MAAM;IAAEM;EAAQ,CAAE,GAAGP,SAAS;EAE9B,MAAM,CAACQ,eAAe,EAAEC,kBAAkB,CAAC,GAAGZ,QAAQ,CAAyB,IAAI,CAAC;EAEpFD,SAAS,CAAC,MAAK;IACX,IAAIY,eAAe,KAAK,IAAI,EAAE;MAC1B;;IAGJ;IACA,IAAID,QAAQ,CAACG,GAAG,KAAK,EAAE,EAAE;MACrBC,KAAK,CAAC,6DAA6D,CAAC;MACpE;;IAGJH,eAAe,CAACI,MAAM,EAAE;EAC5B,CAAC,EAAE,CAACJ,eAAe,CAAC,CAAC;EACrB,OACIK,KAAA,CAACV,QAAQ,EAAAW,MAAA,CAAAC,MAAA,KAAK;IAAEf,SAAS;IAAEC,IAAI;IAAEC,eAAe;IAAEE;EAAO,CAAE;IAAEY,cAAc,EAAE,KAAK;IAAEC,UAAU,EAAEX,GAAG,CAAC,sBAAsB;EAAC;IAAAY,QAAA,GACvHC,IAAA;MAAAD,QAAA,EAAIZ,GAAG,CAAC,wBAAwB;IAAC,EAAK,EACtCO,KAAA,SAAAC,MAAA,CAAAC,MAAA;MAAMK,IAAI,EAAC,mBAAmB;MAACC,MAAM,EAAC,MAAM;MAACC,MAAM,EAAEf,QAAQ,CAACG,GAAG;MAAEa,GAAG,EAAEd;IAAkB;MAAAS,QAAA,GACrFX,QAAQ,CAACiB,WAAW,IAAIL,IAAA;QAAOM,IAAI,EAAC,QAAQ;QAACL,IAAI,EAAC,aAAa;QAACM,KAAK,EAAEnB,QAAQ,CAACiB;MAAW,EAAI,EAC/FjB,QAAQ,CAACoB,YAAY,IAAIR,IAAA;QAAOM,IAAI,EAAC,QAAQ;QAACL,IAAI,EAAC,cAAc;QAACM,KAAK,EAAEnB,QAAQ,CAACoB;MAAY,EAAI,EAClGpB,QAAQ,CAACqB,UAAU,IAAIT,IAAA;QAAOM,IAAI,EAAC,QAAQ;QAACL,IAAI,EAAC,YAAY;QAACM,KAAK,EAAEnB,QAAQ,CAACqB;MAAU,EAAI,EAC7Ff,KAAA;QAAAK,QAAA,GACIC,IAAA;UAAAD,QAAA,EAAIZ,GAAG,CAAC,4BAA4B;QAAC,EAAK,EAC1Ca,IAAA;UAAOM,IAAI,EAAC,QAAQ;UAACC,KAAK,EAAErB,MAAM,CAAC,YAAY;QAAC,EAAI;MAAA,EAC7C;IAAA,GACR;EAAA,GACA;AAEnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}