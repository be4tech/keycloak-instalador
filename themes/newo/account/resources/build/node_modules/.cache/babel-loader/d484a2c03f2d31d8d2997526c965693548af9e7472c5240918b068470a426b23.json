{"ast":null,"code":"import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect } from \"react\";\nimport { headInsert } from \"../../tools/headInsert\";\nimport { pathJoin } from \"../../bin/tools/pathJoin\";\nimport { clsx } from \"../../tools/clsx\";\nimport { useGetClassName } from \"../../login/lib/useGetClassName\";\nexport default function LoginOtp(props) {\n  const {\n    kcContext,\n    i18n,\n    doUseDefaultCss,\n    Template,\n    classes\n  } = props;\n  const {\n    getClassName\n  } = useGetClassName({\n    doUseDefaultCss,\n    classes\n  });\n  const {\n    otpLogin,\n    url\n  } = kcContext;\n  const {\n    msg,\n    msgStr\n  } = i18n;\n  useEffect(() => {\n    let isCleanedUp = false;\n    const {\n      prLoaded,\n      remove\n    } = headInsert({\n      \"type\": \"javascript\",\n      \"src\": pathJoin(kcContext.url.resourcesCommonPath, \"node_modules/jquery/dist/jquery.min.js\")\n    });\n    (async () => {\n      await prLoaded;\n      if (isCleanedUp) {\n        return;\n      }\n      evaluateInlineScript();\n    })();\n    return () => {\n      isCleanedUp = true;\n      remove();\n    };\n  }, []);\n  return _jsx(Template, Object.assign({}, {\n    kcContext,\n    i18n,\n    doUseDefaultCss,\n    classes\n  }, {\n    headerNode: msg(\"doLogIn\")\n  }, {\n    children: _jsxs(\"form\", Object.assign({\n      id: \"kc-otp-login-form\",\n      className: getClassName(\"kcFormClass\"),\n      action: url.loginAction,\n      method: \"post\"\n    }, {\n      children: [otpLogin.userOtpCredentials.length > 1 && _jsx(\"div\", Object.assign({\n        className: getClassName(\"kcFormGroupClass\")\n      }, {\n        children: _jsx(\"div\", Object.assign({\n          className: getClassName(\"kcInputWrapperClass\")\n        }, {\n          children: otpLogin.userOtpCredentials.map(otpCredential => _jsxs(\"div\", Object.assign({\n            className: getClassName(\"kcSelectOTPListClass\")\n          }, {\n            children: [_jsx(\"input\", {\n              type: \"hidden\",\n              value: \"${otpCredential.id}\"\n            }), _jsxs(\"div\", Object.assign({\n              className: getClassName(\"kcSelectOTPListItemClass\")\n            }, {\n              children: [_jsx(\"span\", {\n                className: getClassName(\"kcAuthenticatorOtpCircleClass\")\n              }), _jsx(\"h2\", Object.assign({\n                className: getClassName(\"kcSelectOTPItemHeadingClass\")\n              }, {\n                children: otpCredential.userLabel\n              }))]\n            }))]\n          }), otpCredential.id))\n        }))\n      })), _jsxs(\"div\", Object.assign({\n        className: getClassName(\"kcFormGroupClass\")\n      }, {\n        children: [_jsx(\"div\", Object.assign({\n          className: getClassName(\"kcLabelWrapperClass\")\n        }, {\n          children: _jsx(\"label\", Object.assign({\n            htmlFor: \"otp\",\n            className: getClassName(\"kcLabelClass\")\n          }, {\n            children: msg(\"loginOtpOneTime\")\n          }))\n        })), _jsx(\"div\", Object.assign({\n          className: getClassName(\"kcInputWrapperClass\")\n        }, {\n          children: _jsx(\"input\", {\n            id: \"otp\",\n            name: \"otp\",\n            autoComplete: \"off\",\n            type: \"text\",\n            className: getClassName(\"kcInputClass\"),\n            autoFocus: true\n          })\n        }))]\n      })), _jsxs(\"div\", Object.assign({\n        className: getClassName(\"kcFormGroupClass\")\n      }, {\n        children: [_jsx(\"div\", Object.assign({\n          id: \"kc-form-options\",\n          className: getClassName(\"kcFormOptionsClass\")\n        }, {\n          children: _jsx(\"div\", {\n            className: getClassName(\"kcFormOptionsWrapperClass\")\n          })\n        })), _jsx(\"div\", Object.assign({\n          id: \"kc-form-buttons\",\n          className: getClassName(\"kcFormButtonsClass\")\n        }, {\n          children: _jsx(\"input\", {\n            className: clsx(getClassName(\"kcButtonClass\"), getClassName(\"kcButtonPrimaryClass\"), getClassName(\"kcButtonBlockClass\"), getClassName(\"kcButtonLargeClass\")),\n            name: \"login\",\n            id: \"kc-login\",\n            type: \"submit\",\n            value: msgStr(\"doLogIn\")\n          })\n        }))]\n      }))]\n    }))\n  }));\n}\nfunction evaluateInlineScript() {\n  $(document).ready(function () {\n    // Card Single Select\n    $(\".card-pf-view-single-select\").click(function () {\n      if ($(this).hasClass(\"active\")) {\n        $(this).removeClass(\"active\");\n        $(this).children().removeAttr(\"name\");\n      } else {\n        $(\".card-pf-view-single-select\").removeClass(\"active\");\n        $(\".card-pf-view-single-select\").children().removeAttr(\"name\");\n        $(this).addClass(\"active\");\n        $(this).children().attr(\"name\", \"selectedCredentialId\");\n      }\n    });\n    var defaultCred = $(\".card-pf-view-single-select\")[0];\n    if (defaultCred) {\n      defaultCred.click();\n    }\n  });\n}","map":{"version":3,"names":["useEffect","headInsert","pathJoin","clsx","useGetClassName","LoginOtp","props","kcContext","i18n","doUseDefaultCss","Template","classes","getClassName","otpLogin","url","msg","msgStr","isCleanedUp","prLoaded","remove","resourcesCommonPath","evaluateInlineScript","_jsx","Object","assign","headerNode","children","_jsxs","id","className","action","loginAction","method","userOtpCredentials","length","map","otpCredential","type","value","userLabel","htmlFor","name","autoComplete","autoFocus","$","document","ready","click","hasClass","removeClass","removeAttr","addClass","attr","defaultCred"],"sources":["/Users/user/NewoDev/keycloakify-starter/node_modules/keycloakify/src/login/pages/LoginOtp.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { headInsert } from \"keycloakify/tools/headInsert\";\nimport { pathJoin } from \"keycloakify/bin/tools/pathJoin\";\nimport { clsx } from \"keycloakify/tools/clsx\";\nimport type { PageProps } from \"keycloakify/login/pages/PageProps\";\nimport { useGetClassName } from \"keycloakify/login/lib/useGetClassName\";\nimport type { KcContext } from \"../kcContext\";\nimport type { I18n } from \"../i18n\";\n\nexport default function LoginOtp(props: PageProps<Extract<KcContext, { pageId: \"login-otp.ftl\" }>, I18n>) {\n    const { kcContext, i18n, doUseDefaultCss, Template, classes } = props;\n\n    const { getClassName } = useGetClassName({\n        doUseDefaultCss,\n        classes\n    });\n\n    const { otpLogin, url } = kcContext;\n\n    const { msg, msgStr } = i18n;\n\n    useEffect(() => {\n        let isCleanedUp = false;\n\n        const { prLoaded, remove } = headInsert({\n            \"type\": \"javascript\",\n            \"src\": pathJoin(kcContext.url.resourcesCommonPath, \"node_modules/jquery/dist/jquery.min.js\")\n        });\n\n        (async () => {\n            await prLoaded;\n\n            if (isCleanedUp) {\n                return;\n            }\n\n            evaluateInlineScript();\n        })();\n\n        return () => {\n            isCleanedUp = true;\n            remove();\n        };\n    }, []);\n\n    return (\n        <Template {...{ kcContext, i18n, doUseDefaultCss, classes }} headerNode={msg(\"doLogIn\")}>\n            <form id=\"kc-otp-login-form\" className={getClassName(\"kcFormClass\")} action={url.loginAction} method=\"post\">\n                {otpLogin.userOtpCredentials.length > 1 && (\n                    <div className={getClassName(\"kcFormGroupClass\")}>\n                        <div className={getClassName(\"kcInputWrapperClass\")}>\n                            {otpLogin.userOtpCredentials.map(otpCredential => (\n                                <div key={otpCredential.id} className={getClassName(\"kcSelectOTPListClass\")}>\n                                    <input type=\"hidden\" value=\"${otpCredential.id}\" />\n                                    <div className={getClassName(\"kcSelectOTPListItemClass\")}>\n                                        <span className={getClassName(\"kcAuthenticatorOtpCircleClass\")} />\n                                        <h2 className={getClassName(\"kcSelectOTPItemHeadingClass\")}>{otpCredential.userLabel}</h2>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n                <div className={getClassName(\"kcFormGroupClass\")}>\n                    <div className={getClassName(\"kcLabelWrapperClass\")}>\n                        <label htmlFor=\"otp\" className={getClassName(\"kcLabelClass\")}>\n                            {msg(\"loginOtpOneTime\")}\n                        </label>\n                    </div>\n\n                    <div className={getClassName(\"kcInputWrapperClass\")}>\n                        <input id=\"otp\" name=\"otp\" autoComplete=\"off\" type=\"text\" className={getClassName(\"kcInputClass\")} autoFocus />\n                    </div>\n                </div>\n\n                <div className={getClassName(\"kcFormGroupClass\")}>\n                    <div id=\"kc-form-options\" className={getClassName(\"kcFormOptionsClass\")}>\n                        <div className={getClassName(\"kcFormOptionsWrapperClass\")} />\n                    </div>\n\n                    <div id=\"kc-form-buttons\" className={getClassName(\"kcFormButtonsClass\")}>\n                        <input\n                            className={clsx(\n                                getClassName(\"kcButtonClass\"),\n                                getClassName(\"kcButtonPrimaryClass\"),\n                                getClassName(\"kcButtonBlockClass\"),\n                                getClassName(\"kcButtonLargeClass\")\n                            )}\n                            name=\"login\"\n                            id=\"kc-login\"\n                            type=\"submit\"\n                            value={msgStr(\"doLogIn\")}\n                        />\n                    </div>\n                </div>\n            </form>\n        </Template>\n    );\n}\n\ndeclare const $: any;\n\nfunction evaluateInlineScript() {\n    $(document).ready(function () {\n        // Card Single Select\n        $(\".card-pf-view-single-select\").click(function (this: any) {\n            if ($(this).hasClass(\"active\")) {\n                $(this).removeClass(\"active\");\n                $(this).children().removeAttr(\"name\");\n            } else {\n                $(\".card-pf-view-single-select\").removeClass(\"active\");\n                $(\".card-pf-view-single-select\").children().removeAttr(\"name\");\n                $(this).addClass(\"active\");\n                $(this).children().attr(\"name\", \"selectedCredentialId\");\n            }\n        });\n\n        var defaultCred = $(\".card-pf-view-single-select\")[0];\n        if (defaultCred) {\n            defaultCred.click();\n        }\n    });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}