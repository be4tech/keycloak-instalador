{"ast":null,"code":"import \"./HTMLElement.prototype.prepend\";\nimport { Deferred } from \"evt/tools/Deferred\";\nexport function headInsert(params) {\n  const htmlElement = document.createElement((() => {\n    switch (params.type) {\n      case \"css\":\n        return \"link\";\n      case \"javascript\":\n        return \"script\";\n    }\n  })());\n  const dLoaded = new Deferred();\n  htmlElement.addEventListener(\"load\", () => dLoaded.resolve());\n  Object.assign(htmlElement, (() => {\n    switch (params.type) {\n      case \"css\":\n        return {\n          \"href\": params.href,\n          \"type\": \"text/css\",\n          \"rel\": \"stylesheet\",\n          \"media\": \"screen,print\"\n        };\n      case \"javascript\":\n        return {\n          \"src\": params.src,\n          \"type\": \"text/javascript\"\n        };\n    }\n  })());\n  document.getElementsByTagName(\"head\")[0][(() => {\n    switch (params.type) {\n      case \"javascript\":\n        return \"appendChild\";\n      case \"css\":\n        return (() => {\n          switch (params.position) {\n            case \"append\":\n              return \"appendChild\";\n            case \"prepend\":\n              return \"prepend\";\n          }\n        })();\n    }\n  })()](htmlElement);\n  return {\n    \"prLoaded\": dLoaded.pr,\n    \"remove\": () => htmlElement.remove()\n  };\n}","map":{"version":3,"names":["Deferred","headInsert","params","htmlElement","document","createElement","type","dLoaded","addEventListener","resolve","Object","assign","href","src","getElementsByTagName","position","pr","remove"],"sources":["/Users/user/NewoDev/keycloakify-starter/node_modules/keycloakify/src/tools/headInsert.ts"],"sourcesContent":["import \"./HTMLElement.prototype.prepend\";\nimport { Deferred } from \"evt/tools/Deferred\";\n\nexport function headInsert(\n    params:\n        | {\n              type: \"css\";\n              href: string;\n              position: \"append\" | \"prepend\";\n          }\n        | {\n              type: \"javascript\";\n              src: string;\n          }\n): { remove: () => void; prLoaded: Promise<void> } {\n    const htmlElement = document.createElement(\n        (() => {\n            switch (params.type) {\n                case \"css\":\n                    return \"link\";\n                case \"javascript\":\n                    return \"script\";\n            }\n        })()\n    );\n\n    const dLoaded = new Deferred<void>();\n\n    htmlElement.addEventListener(\"load\", () => dLoaded.resolve());\n\n    Object.assign(\n        htmlElement,\n        (() => {\n            switch (params.type) {\n                case \"css\":\n                    return {\n                        \"href\": params.href,\n                        \"type\": \"text/css\",\n                        \"rel\": \"stylesheet\",\n                        \"media\": \"screen,print\"\n                    };\n                case \"javascript\":\n                    return {\n                        \"src\": params.src,\n                        \"type\": \"text/javascript\"\n                    };\n            }\n        })()\n    );\n\n    document.getElementsByTagName(\"head\")[0][\n        (() => {\n            switch (params.type) {\n                case \"javascript\":\n                    return \"appendChild\";\n                case \"css\":\n                    return (() => {\n                        switch (params.position) {\n                            case \"append\":\n                                return \"appendChild\";\n                            case \"prepend\":\n                                return \"prepend\";\n                        }\n                    })();\n            }\n        })()\n    ](htmlElement);\n\n    return {\n        \"prLoaded\": dLoaded.pr,\n        \"remove\": () => htmlElement.remove()\n    };\n}\n"],"mappings":"AAAA,OAAO,iCAAiC;AACxC,SAASA,QAAQ,QAAQ,oBAAoB;AAE7C,OAAM,SAAUC,UAAUA,CACtBC,MASO;EAEP,MAAMC,WAAW,GAAGC,QAAQ,CAACC,aAAa,CACtC,CAAC,MAAK;IACF,QAAQH,MAAM,CAACI,IAAI;MACf,KAAK,KAAK;QACN,OAAO,MAAM;MACjB,KAAK,YAAY;QACb,OAAO,QAAQ;;EAE3B,CAAC,EAAC,CAAE,CACP;EAED,MAAMC,OAAO,GAAG,IAAIP,QAAQ,EAAQ;EAEpCG,WAAW,CAACK,gBAAgB,CAAC,MAAM,EAAE,MAAMD,OAAO,CAACE,OAAO,EAAE,CAAC;EAE7DC,MAAM,CAACC,MAAM,CACTR,WAAW,EACX,CAAC,MAAK;IACF,QAAQD,MAAM,CAACI,IAAI;MACf,KAAK,KAAK;QACN,OAAO;UACH,MAAM,EAAEJ,MAAM,CAACU,IAAI;UACnB,MAAM,EAAE,UAAU;UAClB,KAAK,EAAE,YAAY;UACnB,OAAO,EAAE;SACZ;MACL,KAAK,YAAY;QACb,OAAO;UACH,KAAK,EAAEV,MAAM,CAACW,GAAG;UACjB,MAAM,EAAE;SACX;;EAEb,CAAC,EAAC,CAAE,CACP;EAEDT,QAAQ,CAACU,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CACpC,CAAC,MAAK;IACF,QAAQZ,MAAM,CAACI,IAAI;MACf,KAAK,YAAY;QACb,OAAO,aAAa;MACxB,KAAK,KAAK;QACN,OAAO,CAAC,MAAK;UACT,QAAQJ,MAAM,CAACa,QAAQ;YACnB,KAAK,QAAQ;cACT,OAAO,aAAa;YACxB,KAAK,SAAS;cACV,OAAO,SAAS;;QAE5B,CAAC,EAAC,CAAE;;EAEhB,CAAC,EAAC,CAAE,CACP,CAACZ,WAAW,CAAC;EAEd,OAAO;IACH,UAAU,EAAEI,OAAO,CAACS,EAAE;IACtB,QAAQ,EAAEC,CAAA,KAAMd,WAAW,CAACc,MAAM;GACrC;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}