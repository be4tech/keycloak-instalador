{"version":3,"file":"src_keycloak-theme_account_Template_tsx.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;AACA;AAEA;AAGA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AA1HA;AASA;AAAA;AATA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACTA;AACA;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://keycloakify-starter/./src/keycloak-theme/account/Template.tsx","webpack://keycloakify-starter/./node_modules/keycloakify/account/lib/useGetClassName.js","webpack://keycloakify-starter/./node_modules/keycloakify/lib/useGetClassName.js","webpack://keycloakify-starter/./node_modules/keycloakify/lib/usePrepareTemplate.js","webpack://keycloakify-starter/./node_modules/keycloakify/tools/HTMLElement.prototype.prepend.js","webpack://keycloakify-starter/./node_modules/keycloakify/tools/assert.js","webpack://keycloakify-starter/./node_modules/keycloakify/tools/clsx.js","webpack://keycloakify-starter/./node_modules/keycloakify/tools/headInsert.js","webpack://keycloakify-starter/./node_modules/tsafe/esm/typeGuard.mjs"],"sourcesContent":["// Copy pasted from: https://github.com/InseeFrLab/keycloakify/blob/main/src/login/Template.tsx\n\nimport { clsx } from \"keycloakify/tools/clsx\";\nimport { usePrepareTemplate } from \"keycloakify/lib/usePrepareTemplate\";\nimport { type TemplateProps } from \"keycloakify/account/TemplateProps\";\nimport { useGetClassName } from \"keycloakify/account/lib/useGetClassName\";\nimport type { KcContext } from \"./kcContext\";\nimport type { I18n } from \"./i18n\";\nimport { assert } from \"keycloakify/tools/assert\";\n\nexport default function Template(props: TemplateProps<KcContext, I18n>) {\n    const { kcContext, i18n, doUseDefaultCss, active, classes, children } = props;\n\n    const { getClassName } = useGetClassName({ doUseDefaultCss, classes });\n\n    const { msg, changeLocale, labelBySupportedLanguageTag, currentLanguageTag } = i18n;\n\n    const { locale, url, features, realm, message, referrer } = kcContext;\n\n    const { isReady } = usePrepareTemplate({\n        \"doFetchDefaultThemeResources\": doUseDefaultCss,\n        url,\n        \"stylesCommon\": [\"node_modules/patternfly/dist/css/patternfly.min.css\", \"node_modules/patternfly/dist/css/patternfly-additions.min.css\"],\n        \"styles\": [\"css/account.css\"],\n        \"htmlClassName\": undefined,\n        \"bodyClassName\": clsx(\"admin-console\", \"user\", getClassName(\"kcBodyClass\"))\n    });\n\n    if (!isReady) {\n        return null;\n    }\n\n    return (\n        <>\n            <header className=\"navbar navbar-default navbar-pf navbar-main header\">\n                <nav className=\"navbar\" role=\"navigation\">\n                    <div className=\"navbar-header\">\n                        <div className=\"container\">\n                            <h1 className=\"navbar-title\">Keycloak</h1>\n                        </div>\n                    </div>\n                    <div className=\"navbar-collapse navbar-collapse-1\">\n                        <div className=\"container\">\n                            <ul className=\"nav navbar-nav navbar-utility\">\n                                {realm.internationalizationEnabled && (assert(locale !== undefined), true) && locale.supported.length > 1 && (\n                                    <li>\n                                        <div className=\"kc-dropdown\" id=\"kc-locale-dropdown\">\n                                            {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                                            <a href=\"#\" id=\"kc-current-locale-link\">\n                                                {labelBySupportedLanguageTag[currentLanguageTag]}\n                                            </a>\n                                            <ul>\n                                                {locale.supported.map(({ languageTag }) => (\n                                                    <li key={languageTag} className=\"kc-dropdown-item\">\n                                                        {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                                                        <a href=\"#\" onClick={() => changeLocale(languageTag)}>\n                                                            {labelBySupportedLanguageTag[languageTag]}\n                                                        </a>\n                                                    </li>\n                                                ))}\n                                            </ul>\n                                        </div>\n                                    </li>\n                                )}\n                                {referrer?.url && (\n                                    <li>\n                                        <a href={referrer.url} id=\"referrer\">\n                                            {msg(\"backTo\", referrer.name)}\n                                        </a>\n                                    </li>\n                                )}\n                                <li>\n                                    <a href={url.getLogoutUrl()}>{msg(\"doSignOut\")}</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </nav>\n            </header>\n\n            <div className=\"container\">\n                <div className=\"bs-sidebar col-sm-3\">\n                    <ul>\n                        <li className={clsx(active === \"account\" && \"active\")}>\n                            <a href={url.accountUrl}>{msg(\"account\")}</a>\n                        </li>\n                        {features.passwordUpdateSupported && (\n                            <li className={clsx(active === \"password\" && \"active\")}>\n                                <a href={url.passwordUrl}>{msg(\"password\")}</a>\n                            </li>\n                        )}\n                        <li className={clsx(active === \"totp\" && \"active\")}>\n                            <a href={url.totpUrl}>{msg(\"authenticator\")}</a>\n                        </li>\n                        {features.identityFederation && (\n                            <li className={clsx(active === \"social\" && \"active\")}>\n                                <a href={url.socialUrl}>{msg(\"federatedIdentity\")}</a>\n                            </li>\n                        )}\n                        <li className={clsx(active === \"sessions\" && \"active\")}>\n                            <a href={url.sessionsUrl}>{msg(\"sessions\")}</a>\n                        </li>\n                        <li className={clsx(active === \"applications\" && \"active\")}>\n                            <a href={url.applicationsUrl}>{msg(\"applications\")}</a>\n                        </li>\n                        {features.log && (\n                            <li className={clsx(active === \"log\" && \"active\")}>\n                                <a href={url.logUrl}>{msg(\"log\")}</a>\n                            </li>\n                        )}\n                        {realm.userManagedAccessAllowed && features.authorization && (\n                            <li className={clsx(active === \"authorization\" && \"active\")}>\n                                <a href={url.resourceUrl}>{msg(\"myResources\")}</a>\n                            </li>\n                        )}\n                    </ul>\n                </div>\n\n                <div className=\"col-sm-9 content-area\">\n                    {message !== undefined && (\n                        <div className={clsx(\"alert\", `alert-${message.type}`)}>\n                            {message.type === \"success\" && <span className=\"pficon pficon-ok\"></span>}\n                            {message.type === \"error\" && <span className=\"pficon pficon-error-circle-o\"></span>}\n                            <span className=\"kc-feedback-text\">{message.summary}</span>\n                        </div>\n                    )}\n\n                    {children}\n                </div>\n            </div>\n        </>\n    );\n}\n","import { createUseClassName } from \"../../lib/useGetClassName\";\nexport const { useGetClassName } = createUseClassName({\n    \"defaultClasses\": {\n        \"kcBodyClass\": undefined,\n        \"kcButtonClass\": \"btn\",\n        \"kcButtonPrimaryClass\": \"btn-primary\",\n        \"kcButtonLargeClass\": \"btn-lg\",\n        \"kcButtonDefaultClass\": \"btn-default\"\n    }\n});\n//# sourceMappingURL=useGetClassName.js.map","import { clsx } from \"../tools/clsx\";\nimport { useConstCallback } from \"../tools/useConstCallback\";\nexport function createUseClassName(params) {\n    const { defaultClasses } = params;\n    function useGetClassName(params) {\n        const { classes } = params;\n        const getClassName = useConstCallback((classKey) => {\n            return clsx(classKey, defaultClasses[classKey], classes === null || classes === void 0 ? void 0 : classes[classKey]);\n        });\n        return { getClassName };\n    }\n    return { useGetClassName };\n}\n//# sourceMappingURL=useGetClassName.js.map","import { useReducer, useEffect } from \"react\";\nimport { headInsert } from \"../tools/headInsert\";\nimport { pathJoin } from \"../bin/tools/pathJoin\";\nimport { clsx } from \"../tools/clsx\";\nexport function usePrepareTemplate(params) {\n    const { doFetchDefaultThemeResources, stylesCommon = [], styles = [], url, scripts = [], htmlClassName, bodyClassName } = params;\n    const [isReady, setReady] = useReducer(() => true, !doFetchDefaultThemeResources);\n    useEffect(() => {\n        if (!doFetchDefaultThemeResources) {\n            return;\n        }\n        let isUnmounted = false;\n        const removeArray = [];\n        (async () => {\n            const prLoadedArray = [];\n            [\n                ...stylesCommon.map(relativePath => pathJoin(url.resourcesCommonPath, relativePath)),\n                ...styles.map(relativePath => pathJoin(url.resourcesPath, relativePath))\n            ]\n                .reverse()\n                .forEach(href => {\n                const { prLoaded, remove } = headInsert({\n                    \"type\": \"css\",\n                    \"position\": \"prepend\",\n                    href\n                });\n                removeArray.push(remove);\n                prLoadedArray.push(prLoaded);\n            });\n            await Promise.all(prLoadedArray);\n            if (isUnmounted) {\n                return;\n            }\n            setReady();\n        })();\n        scripts.forEach(relativePath => {\n            const { remove } = headInsert({\n                \"type\": \"javascript\",\n                \"src\": pathJoin(url.resourcesPath, relativePath)\n            });\n            removeArray.push(remove);\n        });\n        return () => {\n            isUnmounted = true;\n            removeArray.forEach(remove => remove());\n        };\n    }, []);\n    useSetClassName({\n        \"target\": \"html\",\n        \"className\": htmlClassName\n    });\n    useSetClassName({\n        \"target\": \"body\",\n        \"className\": bodyClassName\n    });\n    return { isReady };\n}\nfunction useSetClassName(params) {\n    const { target, className } = params;\n    useEffect(() => {\n        if (className === undefined) {\n            return;\n        }\n        const htmlClassList = document.getElementsByTagName(target)[0].classList;\n        const tokens = clsx(className).split(\" \");\n        htmlClassList.add(...tokens);\n        return () => {\n            htmlClassList.remove(...tokens);\n        };\n    }, [className]);\n}\n//# sourceMappingURL=usePrepareTemplate.js.map","\"use strict\";\nif (!HTMLElement.prototype.prepend) {\n    HTMLElement.prototype.prepend = function (childNode) {\n        if (typeof childNode === \"string\") {\n            throw new Error(\"Error with HTMLElement.prototype.appendFirst polyfill\");\n        }\n        this.insertBefore(childNode, this.firstChild);\n    };\n}\n//# sourceMappingURL=HTMLElement.prototype.prepend.js.map","export { assert } from \"tsafe/assert\";\n//# sourceMappingURL=assert.js.map","import { assert } from \"tsafe/assert\";\nimport { typeGuard } from \"tsafe/typeGuard\";\nexport const clsx = (...args) => {\n    const len = args.length;\n    let i = 0;\n    let cls = \"\";\n    for (; i < len; i++) {\n        const arg = args[i];\n        if (arg == null)\n            continue;\n        let toAdd;\n        switch (typeof arg) {\n            case \"boolean\":\n                break;\n            case \"object\": {\n                if (Array.isArray(arg)) {\n                    toAdd = clsx(...arg);\n                }\n                else {\n                    assert(!typeGuard(arg, false));\n                    toAdd = \"\";\n                    for (const k in arg) {\n                        if (arg[k] && k) {\n                            toAdd && (toAdd += \" \");\n                            toAdd += k;\n                        }\n                    }\n                }\n                break;\n            }\n            default: {\n                toAdd = arg;\n            }\n        }\n        if (toAdd) {\n            cls && (cls += \" \");\n            cls += toAdd;\n        }\n    }\n    return cls;\n};\n//# sourceMappingURL=clsx.js.map","import \"./HTMLElement.prototype.prepend\";\nimport { Deferred } from \"evt/tools/Deferred\";\nexport function headInsert(params) {\n    const htmlElement = document.createElement((() => {\n        switch (params.type) {\n            case \"css\":\n                return \"link\";\n            case \"javascript\":\n                return \"script\";\n        }\n    })());\n    const dLoaded = new Deferred();\n    htmlElement.addEventListener(\"load\", () => dLoaded.resolve());\n    Object.assign(htmlElement, (() => {\n        switch (params.type) {\n            case \"css\":\n                return {\n                    \"href\": params.href,\n                    \"type\": \"text/css\",\n                    \"rel\": \"stylesheet\",\n                    \"media\": \"screen,print\"\n                };\n            case \"javascript\":\n                return {\n                    \"src\": params.src,\n                    \"type\": \"text/javascript\"\n                };\n        }\n    })());\n    document.getElementsByTagName(\"head\")[0][(() => {\n        switch (params.type) {\n            case \"javascript\":\n                return \"appendChild\";\n            case \"css\":\n                return (() => {\n                    switch (params.position) {\n                        case \"append\":\n                            return \"appendChild\";\n                        case \"prepend\":\n                            return \"prepend\";\n                    }\n                })();\n        }\n    })()](htmlElement);\n    return {\n        \"prLoaded\": dLoaded.pr,\n        \"remove\": () => htmlElement.remove()\n    };\n}\n//# sourceMappingURL=headInsert.js.map","/* eslint-disable @typescript-eslint/no-namespace */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/** https://docs.tsafe.dev/typeguard */\nexport function typeGuard(_value, isMatched) {\n    return isMatched;\n}\n//# sourceMappingURL=typeGuard.mjs.map"],"names":[],"sourceRoot":""}